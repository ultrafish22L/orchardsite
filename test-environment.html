<!DOCTYPE html>
<html>
<head>
    <title>Environment Detection Test</title>
</head>
<body>
    <h1>Environment Detection Test</h1>
    <div id="results"></div>
    
    <script>
        // Simple environment detection test
        function detectEnvironment() {
            const protocol = window.location.protocol;
            const hostname = window.location.hostname;
            
            let deploymentMode;
            let availableModes;
            
            if (protocol === 'file:') {
                deploymentMode = 'standalone';
                availableModes = ['demo'];
            } else if (hostname === 'localhost' || hostname === '127.0.0.1') {
                deploymentMode = 'local-server';
                availableModes = ['demo', 'cloud', 'local', 'auto'];
            } else {
                deploymentMode = 'hosted';
                availableModes = ['demo', 'cloud', 'local', 'auto'];
            }
            
            return { deploymentMode, availableModes, protocol, hostname };
        }
        
        const env = detectEnvironment();
        document.getElementById('results').innerHTML = `
            <h2>Environment Detection Results:</h2>
            <p><strong>Protocol:</strong> ${env.protocol}</p>
            <p><strong>Hostname:</strong> ${env.hostname}</p>
            <p><strong>Deployment Mode:</strong> ${env.deploymentMode}</p>
            <p><strong>Available Weather Modes:</strong> ${env.availableModes.join(', ')}</p>
            
            <h3>Test Results:</h3>
            <p>✅ Environment detection working</p>
            <p>✅ Mode filtering working</p>
            <p>✅ JavaScript execution working</p>
        `;
        
        console.log('Environment test results:', env);
    </script>
</body>
</html>